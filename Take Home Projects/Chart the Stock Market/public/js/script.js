let sampleData = {
  "Meta Data": {
    "1. Information": "Monthly Prices (open, high, low, close) and Volumes",
    "2. Symbol": "TSLA",
    "3. Last Refreshed": "2022-11-11",
    "4. Time Zone": "US/Eastern"
  },
  "Monthly Time Series": {
    "2022-11-11": {
      "1. open": "234.0500",
      "2. high": "237.3951",
      "3. low": "177.1200",
      "4. close": "195.9700",
      "5. volume": "877262049"
    },
    "2022-10-31": {
      "1. open": "254.5000",
      "2. high": "257.5000",
      "3. low": "198.5863",
      "4. close": "227.5400",
      "5. volume": "1735577735"
    },
    "2022-09-30": {
      "1. open": "272.5750",
      "2. high": "313.8000",
      "3. low": "262.4700",
      "4. close": "265.2500",
      "5. volume": "1298711227"
    },
    "2022-08-31": {
      "1. open": "903.8250",
      "2. high": "944.0000",
      "3. low": "271.8100",
      "4. close": "275.6100",
      "5. volume": "734431591"
    },
    "2022-07-29": {
      "1. open": "681.0000",
      "2. high": "894.9600",
      "3. low": "648.5001",
      "4. close": "891.4500",
      "5. volume": "581783311"
    },
    "2022-06-30": {
      "1. open": "755.1600",
      "2. high": "792.6300",
      "3. low": "626.0800",
      "4. close": "673.4200",
      "5. volume": "670825779"
    },
    "2022-05-31": {
      "1. open": "860.7700",
      "2. high": "955.5000",
      "3. low": "620.5700",
      "4. close": "758.2600",
      "5. volume": "649232242"
    },
    "2022-04-29": {
      "1. open": "1081.1500",
      "2. high": "1152.8700",
      "3. low": "821.7000",
      "4. close": "870.7600",
      "5. volume": "503896960"
    },
    "2022-03-31": {
      "1. open": "869.6800",
      "2. high": "1114.7700",
      "3. low": "756.0400",
      "4. close": "1077.6000",
      "5. volume": "575182495"
    },
    "2022-02-28": {
      "1. open": "935.2100",
      "2. high": "947.7700",
      "3. low": "700.0000",
      "4. close": "870.4300",
      "5. volume": "463455422"
    },
    "2022-01-31": {
      "1. open": "1147.7500",
      "2. high": "1208.0000",
      "3. low": "792.0100",
      "4. close": "936.7200",
      "5. volume": "638395647"
    },
    "2021-12-31": {
      "1. open": "1160.6950",
      "2. high": "1172.8399",
      "3. low": "886.1200",
      "4. close": "1056.7800",
      "5. volume": "510209746"
    },
    "2021-11-30": {
      "1. open": "1145.0000",
      "2. high": "1243.4900",
      "3. low": "978.6000",
      "4. close": "1144.7600",
      "5. volume": "646639435"
    },
    "2021-10-29": {
      "1. open": "778.4000",
      "2. high": "1115.2100",
      "3. low": "763.5900",
      "4. close": "1114.0000",
      "5. volume": "528934537"
    },
    "2021-09-30": {
      "1. open": "734.0800",
      "2. high": "799.0000",
      "3. low": "708.8500",
      "4. close": "775.4800",
      "5. volume": "390215611"
    },
    "2021-08-31": {
      "1. open": "700.0000",
      "2. high": "740.3900",
      "3. low": "648.8400",
      "4. close": "735.7200",
      "5. volume": "381913604"
    },
    "2021-07-30": {
      "1. open": "683.9200",
      "2. high": "700.0000",
      "3. low": "620.4600",
      "4. close": "687.2000",
      "5. volume": "447786560"
    },
    "2021-06-30": {
      "1. open": "627.8000",
      "2. high": "697.6200",
      "3. low": "571.2200",
      "4. close": "679.7000",
      "5. volume": "519623430"
    },
    "2021-05-28": {
      "1. open": "703.8000",
      "2. high": "706.0000",
      "3. low": "546.9800",
      "4. close": "625.2200",
      "5. volume": "625175872"
    },
    "2021-04-30": {
      "1. open": "688.3700",
      "2. high": "780.7900",
      "3. low": "659.4200",
      "4. close": "709.4400",
      "5. volume": "678583808"
    },
    "2021-03-31": {
      "1. open": "690.1100",
      "2. high": "721.1100",
      "3. low": "539.4900",
      "4. close": "667.9300",
      "5. volume": "941564582"
    },
    "2021-02-26": {
      "1. open": "814.2900",
      "2. high": "880.5000",
      "3. low": "619.0000",
      "4. close": "675.5000",
      "5. volume": "518874413"
    },
    "2021-01-29": {
      "1. open": "719.4600",
      "2. high": "900.4000",
      "3. low": "717.1895",
      "4. close": "793.5300",
      "5. volume": "705739179"
    },
    "2020-12-31": {
      "1. open": "597.5900",
      "2. high": "718.7200",
      "3. low": "541.2100",
      "4. close": "705.6700",
      "5. volume": "1194948499"
    },
    "2020-11-30": {
      "1. open": "394.0000",
      "2. high": "607.8000",
      "3. low": "392.3000",
      "4. close": "567.6000",
      "5. volume": "781153824"
    },
    "2020-10-30": {
      "1. open": "440.7600",
      "2. high": "465.9000",
      "3. low": "379.1100",
      "4. close": "388.0400",
      "5. volume": "833908217"
    },
    "2020-09-30": {
      "1. open": "502.1400",
      "2. high": "502.4900",
      "3. low": "329.8800",
      "4. close": "429.0100",
      "5. volume": "1736952445"
    },
    "2020-08-31": {
      "1. open": "1449.2000",
      "2. high": "2318.4900",
      "3. low": "440.1100",
      "4. close": "498.3200",
      "5. volume": "403528354"
    },
    "2020-07-31": {
      "1. open": "1083.0000",
      "2. high": "1794.9900",
      "3. low": "1080.5000",
      "4. close": "1430.7600",
      "5. volume": "378234408"
    },
    "2020-06-30": {
      "1. open": "858.0000",
      "2. high": "1087.6900",
      "3. low": "854.1000",
      "4. close": "1079.8100",
      "5. volume": "255918459"
    },
    "2020-05-29": {
      "1. open": "755.0000",
      "2. high": "843.2900",
      "3. low": "683.0400",
      "4. close": "835.0000",
      "5. volume": "272775593"
    },
    "2020-04-30": {
      "1. open": "504.0000",
      "2. high": "869.8200",
      "3. low": "446.4000",
      "4. close": "781.8800",
      "5. volume": "381562411"
    },
    "2020-03-31": {
      "1. open": "711.2600",
      "2. high": "806.9800",
      "3. low": "350.5100",
      "4. close": "524.0000",
      "5. volume": "420906139"
    },
    "2020-02-28": {
      "1. open": "673.6900",
      "2. high": "968.9900",
      "3. low": "611.5200",
      "4. close": "667.9900",
      "5. volume": "473506012"
    },
    "2020-01-31": {
      "1. open": "424.5000",
      "2. high": "653.0000",
      "3. low": "421.7100",
      "4. close": "650.5700",
      "5. volume": "407621638"
    },
    "2019-12-31": {
      "1. open": "329.4000",
      "2. high": "435.3100",
      "3. low": "327.2500",
      "4. close": "418.3300",
      "5. volume": "207390450"
    },
    "2019-11-29": {
      "1. open": "316.3200",
      "2. high": "361.2000",
      "3. low": "309.2600",
      "4. close": "329.9400",
      "5. volume": "157892383"
    },
    "2019-10-31": {
      "1. open": "241.5000",
      "2. high": "340.8400",
      "3. low": "224.2800",
      "4. close": "314.9200",
      "5. volume": "234866048"
    },
    "2019-09-30": {
      "1. open": "224.0800",
      "2. high": "253.5000",
      "3. low": "218.3600",
      "4. close": "240.8700",
      "5. volume": "136563111"
    },
    "2019-08-30": {
      "1. open": "242.6500",
      "2. high": "244.5100",
      "3. low": "211.0000",
      "4. close": "225.6100",
      "5. volume": "134088212"
    },
    "2019-07-31": {
      "1. open": "230.2100",
      "2. high": "266.0700",
      "3. low": "222.2200",
      "4. close": "241.6100",
      "5. volume": "199371373"
    },
    "2019-06-28": {
      "1. open": "185.5100",
      "2. high": "234.7400",
      "3. low": "176.9900",
      "4. close": "223.4600",
      "5. volume": "214970558"
    },
    "2019-05-31": {
      "1. open": "238.8500",
      "2. high": "258.3500",
      "3. low": "184.1000",
      "4. close": "185.1600",
      "5. volume": "282598837"
    },
    "2019-04-30": {
      "1. open": "282.6200",
      "2. high": "296.1700",
      "3. low": "231.1300",
      "4. close": "238.6900",
      "5. volume": "230757873"
    },
    "2019-03-29": {
      "1. open": "306.9400",
      "2. high": "307.1300",
      "3. low": "254.4600",
      "4. close": "279.8600",
      "5. volume": "213793753"
    },
    "2019-02-28": {
      "1. open": "305.4200",
      "2. high": "324.2400",
      "3. low": "288.7700",
      "4. close": "319.8800",
      "5. volume": "128550254"
    },
    "2019-01-31": {
      "1. open": "306.1000",
      "2. high": "352.0000",
      "3. low": "279.2800",
      "4. close": "307.0200",
      "5. volume": "175660650"
    },
  }
};


$(document).ready(function(){
  const ctx = $("#graphChart")[0].getContext('2d');
  let datasetsData = [], monthlyTimeSeries = sampleData['Monthly Time Series'];

  for (let date in monthlyTimeSeries) {
    let dateObject = monthlyTimeSeries[date];
    datasetsData.push({
      x: date,
      y: parseFloat(dateObject['4. close']),
    });
  }

  const configData = {
    datasets: [
      {
        label: 'TSLA',
        data: datasetsData,
        backgroundColor: 'rgba(255, 99, 132)',
        borderColor: 'rgba(255, 99, 132)'
      }
    ]
  };

  const config = {
    type: 'line', 
    data: configData,
    options: {
      plugins: {
        tooltip: {
          callbacks: {
            label: context => {
              let label = context.dataset.label || '';

              if (label) label+= ': ';

              if (context.parsed.y !== null) {
                label += `${context.parsed.y} USD`;
              }

              return label;
            }
          }
        }
      },
      interaction: {
        intersect: false,
        mode: 'index'
      },
      responsive: true,
      maintainAspectRatio: false,
      layout: {
        padding: 10
      },
      scales: {
        y: {
          beginAtZero: true,
          grace: 1  
        }
      }
    }
  }

  const graphChart = new Chart(ctx, config);

});

/*
https://cloudfront-us-east-2.images.arcpublishing.com/reuters/3XVSE7R5O5NJFMYP32IE36OU7I.png
• Help Button - shows tooltip/message: Stocks other people....
• Visualize Graph (chart.js)
• Stock Symbol Input & Get Stock Btn

-test chart.js
-implement chart.js
-test socket.js
-work on api routes & implement socket.js
-unit tests?
*/


